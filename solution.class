class Solution {
public:
    int romanToInt(string s) {
        //if(s == NULL) return -1;
        if(s.size() == 0) return 0;
        int ret = 0;
        char pre = '\0';
        char cur;
        reverse(s.begin(),s.end());
        for(auto cur:s)
        {
            if(cur == 'I') 
            {
                if((pre != 'V')&&(pre != 'X'))
                     ret++;
                else ret--;
                pre = cur;
                continue;
            }
            if(cur == 'X') 
            {
                if((pre != 'L')&&(pre != 'C'))
                     ret = ret + 10;
                else ret = ret - 10;
                pre = cur;
                continue;
            }
            
            if(cur == 'C') 
            {
                if((pre != 'D')&&(pre != 'M'))
                     ret = ret + 100;
                else ret = ret - 100;
                pre = cur;
                continue;
            }
            if(cur == 'V') {ret = ret + 5;  pre = cur;continue;}            
            if(cur == 'L') {ret = ret + 50;  pre = cur;continue;}
            if(cur == 'D') {ret = ret + 500; pre = cur;continue;}            
            if(cur == 'M') {ret = ret + 1000; pre = cur;continue;}            
        }    
        return ret;
    }
    
};
